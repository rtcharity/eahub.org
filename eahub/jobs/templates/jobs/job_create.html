{% extends 'base_bs5.html' %}

{% load static sekizai_tags thumbnail %}

{% block title %}Jobs{% endblock %}

{% block navbar %}
  {% include 'components/navbar.html' %}
{% endblock navbar %}

{% block content %}

  {% addtoblock 'js' %}
    {% if settings.DJANGO_ENV.value == 'local' %}
      <script src="{{ settings.WEBPACK_DEV_URL }}/component_tables.bundle.js"></script>
    {% else %}
      <script src="{% static 'dist/component_tables.js' %}"></script>
    {% endif %}
  {% endaddtoblock %}
  
  {% addtoblock "body_classes" %}profiles-search-body{% endaddtoblock %}

  {% include 'includes/messages.html' %}

  <script>
    const DJANGO = {
      algoliaApiKey: `{{ settings.ALGOLIA.API_KEY_READ_ONLY }}`,
      algoliaApplicationId: `{{ settings.ALGOLIA.APPLICATION_ID }}`,
      algoliaIndexName: `{{ settings.ALGOLIA.INDEX_NAME_TAGS }}`,
      profilePk: {{ profile.pk }},
    }
  </script>

  <div class="container profile-edit">

  <form method="post" action="{% url 'jobs:create' %}" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="row">
      <div class="col-24 col-lg-21">
        <h1>Post a Job</h1>

        {% include 'includes/field.html' with form=form field=form.title %}

        <div class="row row-cols-2">
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.company %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.company_logo %}
          </div>
        </div>

        {% include 'includes/field.html' with form=form field=form.description_teaser placeholder="In West Philadelphia born and raised. On the playground is where I spent most of my days." %}
        {% include 'includes/field.html' with form=form rows=10 field=form.description placeholder="In West Philadelphia born and raised. On the playground is where I spent most of my days." %}

        <div class="row row-cols-5">
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.experience_min %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.experience_max %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.salary_min %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.salary_max %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.salary_currency %}
          </div>
        </div>
        {% include 'includes/field.html' with form=form field=form.image %}

        <div class="row row-cols-1 row-cols-lg-3">
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.facebook_url %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.linkedin_url %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.personal_website_url placeholder="https://example.com" %}
          </div>
        </div>

        <div class="row row-cols-1 row-cols-lg-2">
          <div class="col">
            {% include 'includes/field.html' with form=form rows=3 field=form.offering placeholder="How can you help other community members?" %}
          </div>
          <div class="col">
            {% include 'includes/field.html' with form=form rows=3 field=form.looking_for placeholder="How can other community members help you?" %}
          </div>
        </div>


        <h2>Community</h2>
        {% include 'includes/field.html' with form=form field=form.available_as_speaker %}

        {% if profile.topics_i_speak_about %}
          {% include 'includes/field.html' with form=form rows=1 field=form.topics_i_speak_about %}
        {% endif %}
        <div class="mb-5"
          data-type-name="speech_topic"
          data-type-label="Topics I Speak About"
        >
          <div class="vue-profile-tag-input"></div>
        </div>

        {% include 'includes/field.html' with form=form field=form.available_to_volunteer %}

        {% include 'includes/field.html' with form=form field=form.local_groups %}

        <div class="mb-5"
          data-type-name="organisational_affiliation"
          data-type-label="Organisational Affiliations"
        >
          <div class="vue-profile-tag-input"></div>
        </div>

        <div class="mb-5"
          data-type-name="affiliation"
          data-type-label="Affiliations"
        >
          <div class="vue-profile-tag-input"></div>
        </div>

        <div class="mb-5"
          data-type-name="pledge"
          data-type-label="Giving Pledges"
        >
          <div class="vue-profile-tag-input"></div>
        </div>


        <h2>Career</h2>
        <div class="row row-cols-2">
          <div class="col">
            {% include 'includes/field.html' with form=form field=form.job_title %}
          </div>
          <div class="col col-bool-with-margin-top">
            {% include 'includes/field.html' with form=form field=form.open_to_job_offers %}
          </div>
        </div>

        <div class="mb-5"
          data-type-name="career_interest"
          data-type-label="Career Areas of Interest"
          data-type-label-short="area"
        >
          <div class="vue-profile-tag-input"></div>
        </div>

        <div class="mb-5"
          data-type-name="expertise_area"
          data-type-label="Career Areas of Expertise"
          data-type-label-short="area"

        >
          <div class="vue-profile-tag-input"></div>
        </div>

        {% if profile.expertise_areas_other %}
          {% include 'includes/field.html' with form=form rows=1 field=form.expertise_areas_other %}
        {% endif %}

        <div class="mb-5"
          data-type-name="cause_area"
          data-type-label="Cause Areas of Interest"
          data-type-label-short="area"
          data-input-popup-intro="Cause areas you are interested in learning more about or that you want to develop expertise in."
        >
          <div class="vue-profile-tag-input"></div>
        </div>

        {% if profile.cause_areas_other %}
          {% include 'includes/field.html' with form=form rows=1 field=form.cause_areas_other %}
        {% endif %}

        <div class="mb-5"
          data-type-name="cause_area_expertise"
          data-type-label="Cause Areas of Expertise"
          data-type-label-short="area"
          data-input-popup-intro="Cause areas you have expertise in."
        >
          <div class="vue-profile-tag-input"></div>
        </div>


        <h2>Tags</h2>
        <div class="mb-5"
          data-type-name="generic"
          data-type-label=""
          data-input-popup-intro="Use this field to tag any other relevant things you'd like others to be able to find about you."
        >
          <div class="vue-profile-tag-input"></div>
        </div>

        <h2>Settings</h2>
        {% include 'includes/field.html' with form=form field=form.is_public %}
        {% include 'includes/field.html' with form=form field=form.allow_messaging %}
        <a href="{% url 'profiles_app:delete_profile' %}">Delete My Profile</a>

      </div>

      <div class="col-3 btn-submit__col d-none d-lg-block">
        <div class="btn-submit__container">
          <button class="btn btn-lg btn-primary btn-submit" type="submit">Save</button>
        </div>
      </div>

    </div>

    <div class="btn-submit__container" data-pos="bottom">
      <button class="btn btn-lg btn-primary btn-submit" type="submit">Save</button>
    </div>

  </form>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/js/select2.min.js" defer></script>
  <script src="{% static 'django_select2/django_select2.js' %}" defer></script>
  {{ form.media.css }}

{% endblock %}

{% block footer %}
  {% include 'includes/footer.html' %}
{% endblock %}
