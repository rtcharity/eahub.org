{% extends 'form.html' %}

{% block title %}Edit Profile{% endblock %}

{% block form_fields %}

<div class="field">
    <label for="id_first_name" class="required_field">First Name</label>
    <input type="text" name="first_name" id="id_first_name" class="form-control" placeholder="Peter" value="{{ form.first_name.value }}" maxlength="50" required autofocus>
    {% if form.first_name.errors %}
        {% for error in form.first_name.errors %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endfor %}
    {% endif %}
</div>

<div class="field">
    <label for="id_last_name">Last Name</label>
    <input type="text" name="last_name" id="id_last_name" class="form-control" placeholder="Singer" value="{{ form.last_name.value }}" maxlength="50">
    {% if form.last_name.errors %}
        {% for error in form.last_name.errors %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endfor %}
    {% endif %}
</div>

<div class="field">
  <label for="id_image">Image</label>
  <input type="file" name="image" id="id_image" class="form-control">
  {% if form.image.errors %}
    {% for error in form.image.errors %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endfor %}
  {% endif %}
</div>

<div class="field">
  <label for="id_city_or_town">City/town</label>
  <input type="text" name="city_or_town" id="id_city_or_town" class="form-control" value="{{ form.city_or_town.value|default_if_none:'' }}" placeholder="London" maxlength="50">
  {% if form.city_or_town.errors %}
    {% for error in form.city_or_town.errors %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endfor %}
  {% endif %}
</div>

<div class="field">
  <label for="id_country">Country</label>
  <input type="text" name="country" id="id_country" class="form-control" value="{{ form.country.value|default_if_none:'' }}" placeholder="United Kingdom" maxlength="50">
  {% if form.country.errors %}
    {% for error in form.country.errors %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endfor %}
  {% endif %}
</div>

<div class="field">
  <label for="id_summary">Summary</label>
  <textarea type="text" name="summary" id="id_summary" class="form-control" rows="4" placeholder='In West Philadelphia born and raised
On the playground is where I spent most of my days' maxlength="5000">{{ form.summary.value }}</textarea>
  {% if form.summary.errors %}
    {% for error in form.summary.errors %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endfor %}
  {% endif %}
</div>
{% if profile.gdpr_confirmed == False %}
<div class="privacy">
  <p><input id="privacy" type='checkbox'> I've read and accept the <a href="{% url 'privacyPolicy' %}">Privacy Policy</a>.</p>
</div>
<button type="submit" class="btn btn-default" id="update-btn">Update</button>
<script src="/static/scripts/edit.js"></script>
{% else %}
<button type="submit" class="btn btn-default">Update</button>
<div class="privacy-note">
  <b>Note:</b> All profile information is public.
  Read more about our <a href="{% url 'privacyPolicy' %}">privacy policy</a>.
</div>
{% endif %}
{% endblock %}
